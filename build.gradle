/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.5/userguide/tutorial_java_projects.html
 */
plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application.
    id 'application'
    id 'war'
}
repositories {
        maven { url 'https://maven.aliyun.com/repository/public' }
        maven { url 'https://maven.aliyun.com/repository/central'}
        maven { url 'https://maven.aliyun.com/repository/google'}
        maven { url 'https://maven.aliyun.com/repository/gradle-plugin'}
        maven { url 'https://maven.aliyun.com/repository/spring'}
        maven { url 'https://maven.aliyun.com/repository/spring-plugin'}
        maven { url 'https://maven.aliyun.com/repository/apache-snapshots'}

     mavenLocal()
     mavenCentral()
    }

dependencies {
    // This dependency is used by the application.
    implementation 'com.google.guava:guava:29.0-jre'
    //compile "c3p0:c3p0:0.9.1.2"
    compile "mysql:mysql-connector-java:8.0.21"
    compile "org.mybatis:mybatis:3.5.3"
    compile "org.mybatis:mybatis:3.5.3:sources"
    compile "apache-log4j:log4j:1.2.15"//1.2.8会报错
    // Use JUnit test framework
    testImplementation 'junit:junit:4.13'
}
application {
    // Define the main class for the application.
    mainClassName = 'com.App'
}

//问题：gradle找不到java目录里的mybatis的xml文件
//方法一：
sourceSets.main.resources {
    srcDirs = ["src/main/resources","src/main/java"]; excludes ["**/*.java"]
}
war {
    from('src/main/java') {
        include '**/*.xml'
    }
}

//方法二：
//processResources {
//    from('src/main/java') {
//        include '**/*.xml'
//    }
//}
